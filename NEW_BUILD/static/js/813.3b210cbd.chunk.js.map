{"version":3,"file":"static/js/813.3b210cbd.chunk.js","mappings":"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","sources":["components/Favourites/FavouritesContainer.jsx","styles/mixins.jsx","components/CourseResource/CourseResourceItemEditModal.jsx","components/CourseResource/CourseResourceItem.jsx","components/CourseResource/CourseResourceContainer.jsx","components/CourseReview/Editor.jsx","components/CourseReview/reviewTemplate.jsx","components/CourseReview/CourseReviewItem.jsx","components/CourseReview/CourseReviewContainer.jsx","components/CoursePage/CoursePageBreadcrumbs.jsx","components/CoursePage/CourseSlot.jsx","components/CoursePage/CoursePageContainer.jsx","pages/CoursePage.jsx"],"sourcesContent":["import { Empty } from 'antd'\nimport { useState, useEffect } from 'react'\n\nimport { CourseList, CourseSearch } from 'components/CourseFinder'\nimport { Aside, PageSubtitle, toast } from 'components/shared'\nimport { API } from 'config/api'\nimport { useQueryString } from 'hooks'\n\nconst FavouritesContainer = () => {\n  const { getQueryString } = useQueryString()\n\n  const [loading, setLoading] = useState(true)\n  const [courseData, setCourseData] = useState([])\n\n  const fetchCourses = async (params) => {    // copy this into homepage\n    try {\n      setLoading(true)\n      const response = await API.profile.favorites({ params })\n      setCourseData(response)\n    } catch (error) {\n      toast({ status: 'error', content: error })\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  useEffect(() => {\n    const filter = getQueryString()\n    const params = {\n      q: filter.q,\n      search_fields: 'code,title,description',\n      page: filter.p,\n    }\n\n    fetchCourses(params)\n  }, [getQueryString])\n\n  return (\n    <>\n      <CourseSearch\n        loading={loading}\n        setLoading={setLoading}\n        showFilter={false}\n      />\n\n      <CourseList\n        title=\"Favourites\"\n        count={courseData.count}\n        courseList={courseData.results}\n        loading={loading}\n        setLoading={setLoading}\n      />\n\n      <Aside title=\"My contributions\">\n        <Empty description={<PageSubtitle>Coming soon!</PageSubtitle>} />\n      </Aside>\n    </>\n  )\n}\n\nexport default FavouritesContainer\n","/* eslint-disable import/prefer-default-export */\nimport { css } from 'styled-components/macro'\n\nexport const limitLines = ({ count = 1, height }) => css`\n  display: -webkit-box;\n  height: ${height};\n  overflow: hidden;\n  line-height: calc(${height} / ${count});\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: ${count};\n`\n","import { Form, Input, Select } from 'antd'\nimport { useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { Modal, toast } from 'components/shared'\nimport { API } from 'config/api'\nimport tags from 'data/tags.json'\nimport { selectCourseListMinified } from 'store/courseSlice'\n\nconst CourseResourceItemEditModal = ({\n  visible,\n  onEdit,\n  onCancel,\n  initialValues,\n}) => {\n\n  const [profList, setProfList] = useState([{value: \"null\", label: \"don't know\"}])\n  const [moduleList, setModuleList] = useState([{value: \"null\", label: \"don't know\"}])\n  const currentYear = new Date().getFullYear()\n  const yearsAllowed = [{value: 0, label: \"don't know\"}, {value: currentYear-2, label: currentYear-2}, {value: currentYear-1, label: currentYear-1}, {value: currentYear, label: currentYear}]\n\n  const [form] = Form.useForm()\n\n  const handleOk = async () => {\n    try {\n      const values = await form.validateFields()\n      onEdit(values)\n    } catch (error) {\n      toast({ status: 'error', content: 'Check your inputs' })\n    }\n  }\n\n  const tagOptions = tags.resourceTags.map((tag) => ({\n    label: tag,\n    value: tag,\n  }))\n\n  const courseOptions = useSelector(selectCourseListMinified)?.map(\n    ({ code, title }) => ({\n      label: `${code}: ${title}`,\n      value: code,\n    })\n  )  \n\n  const handleCourseChange = (course_) => {\n    const fetchProfs = async () => {\n      const profSet = await API.professors.read({code: course_})      \n          // assert that a course definitely has profs associated with it\n      const profSetFormat = [{value: \"null\", label: \"don't know\"}]\n      const moduleSetFormat = [{value: \"null\", label: \"don't know\"}]\n      profSet.professors?.forEach((entry) => {\n        profSetFormat.push({value: entry, label: entry})\n      })\n      if(profSet.modules.length !== 0){\n        profSet.modules?.forEach((entry) => {\n          moduleSetFormat.push({value: entry, label: entry})\n        })\n      }\n      setModuleList(moduleSetFormat)\n      setProfList(profSetFormat)\n    }\n    fetchProfs()\n  }  \n\n  useEffect(() => {\n    const course12 = initialValues.course\n    handleCourseChange(course12)\n  }, [])\n\n\n  return (\n    <Modal\n      visible={visible}\n      title=\"Edit your upload\"\n      okText=\"Save\"\n      cancelText=\"Cancel\"\n      onCancel={onCancel}\n      onOk={handleOk}\n    >\n      <Form\n        form={form}\n        layout=\"vertical\"\n        name=\"editResource\"\n        initialValues={initialValues}\n        onFinish={onEdit}\n      >\n\n        <Form.Item\n          name=\"title\"\n          label=\"Title\"\n          rules={[\n            {\n              required: true,\n              message: 'Title is necessary',\n            },\n          ]}\n        >\n          <Input />\n        </Form.Item>\n\n        <Form.Item\n          name=\"course\"\n          label=\"Course\"\n          rules={[\n            {\n              required: true,\n              message: 'Course is necessary',\n            },\n          ]}\n        >\n          <Select showSearch placeholder=\"Course\" options={courseOptions} onChange={handleCourseChange} />\n        </Form.Item>        \n\n        <Form.Item\n          name=\"modules\"        \n          rules={[{required: true, message: 'This is a required field.' }]}\n        >       \n        \n          <Select showSearch placeholder=\"Module\" options={moduleList} />         \n        </Form.Item>\n        \n        <Form.Item\n          name=\"author\"\n          rules={[{required: true, message: 'This is a required field.' }]}\n        >        \n          {/* <Select showSearch placeholder=\"Professor\" options={profList} value={selectedProf} onChange={setSelectedProf}/> */}\n        <Select showSearch placeholder=\"Professor\" options={profList} />\n        </Form.Item>\n\n        <Form.Item\n          name=\"year\"\n          rules={[{required: true, message: 'This is a required field.' }]}\n        >\n          <Select showSearch placeholder=\"Year\" options={yearsAllowed} />\n       </Form.Item>   \n\n       <Form.Item \n          name=\"tags\"\n          rules={[{required: true, message: 'This is a required field. Select the applicable tags.' }]}  \n        >\n          <Select\n            mode=\"multiple\"\n            placeholder=\"Add tags\"\n            showArrow                  \n            options={tagOptions}\n          />\n        </Form.Item>\n      </Form>\n    </Modal>\n  )\n}\n\nexport default CourseResourceItemEditModal\n","import {\n  Download,\n  InformationCircle,\n  PencilAlt,\n} from '@styled-icons/heroicons-outline'\nimport { Popover } from 'antd'\nimport { rgba } from 'polished'\nimport { useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport styled from 'styled-components/macro'\n\nimport placeholderImg from 'assets/images/ResourcePlaceholder.jpg'\nimport {\n  ButtonIcon,\n  Tag,\n  Timestamp,\n  toast,\n  UserAvatar,\n} from 'components/shared'\nimport { API } from 'config/api'\nimport { hash } from 'helpers'\nimport { useColorPicker } from 'hooks'\nimport { selectUserProfile } from 'store/userSlice'\nimport { limitLines } from 'styles/mixins'\n\nimport CourseResourceItemEditModal from './CourseResourceItemEditModal'\n\nconst CourseResourceItem = ({ content: initialContent }) => {\n  const colorPicker = useColorPicker()\n  const { id } = useSelector(selectUserProfile)\n  const isOwner = id === initialContent.uploadedBy.id\n\n  const [editModalVisible, setEditModalVisible] = useState(false)\n  const [content, setContent] = useState(initialContent)\n\n  const handleDownload = () => {\n    // window.open(content.file, '_blank', 'noopener,noreferrer')\n    const iframe = document.createElement('iframe')\n    iframe.src = content.file\n    iframe.style.display = 'none'\n    document.body.appendChild(iframe)\n    window.open(iframe.src, '_blank', 'noopener,noreferrer')\n  }\n\n  const handleEdit = async (payload) => {\n    try {\n      await API.resources.update({ id: content.id, payload })\n      setContent({ ...content, ...payload })\n      setEditModalVisible(false)\n    } catch (error) {\n      toast({ status: 'error', content: error })\n    }\n  }\n\n  const printDescription = (content_) => {\n    if (\n      (content_?.author === '' || content_?.author === 'null') &&\n      content_?.year === 0\n    ) {\n      return <div>Description Not Available</div>\n    }\n    if (content?.author === '' || content_?.author === 'null') {\n      return <div>{content_.year}</div>\n    }\n    if (content?.year === 0) {\n      return <div>Prof. {content_.author}</div>\n    }\n    if (\n      content_?.author !== '' &&\n      content_?.author !== 'null' &&\n      content_?.year !== 0\n    ) {\n      const profDesc = content_.author\n      const yearDesc = content_.year\n      return (\n        <div>\n          {yearDesc}- Prof. {profDesc}\n        </div>\n      )\n    }\n    return null\n  }\n\n  return (\n    <>\n      <GridItem>\n        <img\n          src={content.thumbnail || placeholderImg}\n          alt={content.title}\n          style={{ width: '100%', height: '100%' }}\n        />\n\n        <ItemInfo>\n          <ResourceTitle>{content.title}</ResourceTitle>\n          <ResourceDescription>{printDescription(content)}</ResourceDescription>\n          <Row>\n            <ButtonIcon\n              size=\"default\"\n              icon={<Download size=\"20\" />}\n              onClick={handleDownload}\n              hoverstyle={{ background: 'rgba(0, 0, 0, 0.3)' }}\n            />\n\n            {isOwner && (\n              <ButtonIcon\n                size=\"default\"\n                icon={<PencilAlt size=\"20\" />}\n                onClick={() => setEditModalVisible(true)}\n                hoverstyle={{ background: 'rgba(0, 0, 0, 0.3)' }}\n              />\n            )}\n\n            <Popover\n              content={\n                <PopoverContent>\n                  <UserAvatar\n                    size=\"2rem\"\n                    src={content?.uploadedBy.profilePicture}\n                    alt=\"Profile picture\"\n                  />\n\n                  <PopoverHeading>\n                    <h3>\n                      Uploaded by: <b>{content?.uploadedBy.name}</b>\n                    </h3>\n                    <h3>\n                      Author: <b>{content?.author || 'Not available'}</b>\n                    </h3>\n                    <span>\n                      Uploaded <Timestamp time={content?.timestamp} />\n                    </span>\n                    {content?.tags.map((tag) => (\n                      <Tag key={tag} style={{ color: colorPicker(hash(tag)) }}>\n                        {tag}\n                      </Tag>\n                    ))}\n                  </PopoverHeading>\n                </PopoverContent>\n              }\n              title=\"Information\"\n              trigger=\"click\"\n            >\n              <ButtonIcon\n                size=\"default\"\n                icon={<InformationCircle size=\"20\" />}\n                hoverstyle={{ background: 'rgba(0, 0, 0, 0.3)' }}\n              />\n            </Popover>\n          </Row>\n        </ItemInfo>\n      </GridItem>\n\n      <CourseResourceItemEditModal\n        visible={editModalVisible}\n        onEdit={handleEdit}\n        onCancel={() => setEditModalVisible(false)}\n        initialValues={content}\n      />\n    </>\n  )\n}\n\nexport const CourseResourceGrid = ({ items }) => {\n  return (\n    <Grid>\n      {items.map((content) => (\n        <CourseResourceItem key={content.id} content={content} />\n      ))}\n    </Grid>\n  )\n}\n\nexport default CourseResourceItem\n\nconst Grid = styled.div`\n  display: grid;\n  grid-auto-rows: 12rem;\n  grid-auto-flow: row dense;\n  grid-gap: 1rem;\n  grid-template-columns: repeat(auto-fill, minmax(9rem, 1fr));\n  padding: 0 0.25rem;\n`\n\nconst GridItem = styled.figure`\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  grid-row-start: auto;\n  grid-column-start: auto;\n  justify-content: flex-end;\n  overflow: hidden;\n  color: ${({ theme }) => theme.textColor};\n  border-radius: ${({ theme }) => theme.borderRadius};\n  box-shadow: 0 0 5px rgb(0 0 0 / 30%);\n`\n\nconst Row = styled.div`\n  display: flex;\n  gap: 0.5rem;\n  align-items: center;\n  margin-bottom: 0.5rem;\n  margin-top: auto;\n`\n\nconst ResourceTitle = styled.h5`\n  ${limitLines({ count: 2, height: '1.75rem' })}\n\n  margin-bottom: 0.5rem;\n  color: ${({ theme }) => theme.textColor};\n`\n\nconst ResourceDescription = styled.p`\n  ${limitLines({ count: 2, height: '1.75rem' })}\n  height: 100%;\n  margin-bottom: auto;\n  padding-bottom: auto;\n`\n\nconst ItemInfo = styled.figcaption`\n  position: absolute;\n  bottom: 0;\n  z-index: 1;\n  width: 100%;\n\n  padding: 0.5rem;\n  color: ${({ theme }) => theme.textColorInactive};\n  background: ${({ theme }) => rgba(theme.darksecondary, 0.95)};\n`\n\nconst PopoverContent = styled.div`\n  display: flex;\n  gap: 0.75rem;\n  align-items: center;\n`\n\nconst PopoverHeading = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  color: ${({ theme }) => theme.textColorInactive};\n\n  h3 {\n    color: ${({ theme }) => theme.textColor};\n    font-size: 0.75rem;\n    font-weight: 400;\n  }\n`\n","import { CloudUpload } from '@styled-icons/heroicons-outline'\nimport { Select } from 'antd'\nimport { useEffect, useState } from 'react'\nimport { useNavigate, useParams } from 'react-router-dom'\nimport styled from 'styled-components/macro'\n\nimport { CourseContentRequest, CourseContentRequestIcon } from 'components/CoursePage'\nimport { ButtonSquare, LoaderAnimation, toast, Tabs, NotFoundSearch } from 'components/shared'\nimport { API } from 'config/api'\nimport { useResponsive } from 'hooks'\n\nimport { CourseResourceGrid } from './CourseResourceItem'\n\nconst CourseResourceContainer = () => {\n  const allowedTags = [\"Slides\", \"Textbooks\", \"PYQs\", \"Tutorials\", \"Assignments\", \"Labs\"]\n  \n  const defaultYear = \"0\"\n  const [profDropValue, setProfDropValue] = useState(\"Select Prof\")\n  const [moduleDropValue, setModuleDropValue] = useState(\"Select Module\")\n  const [yearDropValue, setYearDropValue] = useState(\"Select Year\")\n  const { code } = useParams()\n  const navigate = useNavigate()\n  const { isMobileS } = useResponsive()\n  const [loading, setLoading] = useState(false)    // have the resources loaded or not?\n  const [resPerFilter, setResPerFilter] = useState({})   // number of resources per filter\n  const [resources, setResources] = useState([])     // resources - currently available resources - store as dictionary\n  const [currentTab, setCurrentTab] = useState(\"All\")   // current chosen Tab(filter)\n  const [filteredResources, setFilteredResources] = useState([])   // all the filtered resources - store as list\n  const [, setProfs] = useState([])\n  const [selectedProf, setSelectedProf] = useState(\"null\")\n  const [modules, setModules] = useState([])\n  const [currentModule, setCurrentModule] = useState(\"null\")    \n  const [allResCount, setAllResCount] = useState(0)\n  const [profPerModule, setProfPerModule] = useState({})\n  const [years, setYears] = useState([])\n  const [yearPerProf, setYearPerProf] = useState({})\n  const [currentYear, setCurrentYear] = useState(\"0\")\n\n  const FrontendTag = (tag) => {\n    if(!(allowedTags.includes(tag))){\n      return \"Misc\"\n    }\n    return tag\n  }\n\n  useEffect(() => {         \n    const fetchResources = async () => {\n      try {\n        setLoading(true)\n        const response = await API.courses.listResources({ code })\n        setResources(response)\n        setFilteredResources(response)\n        const filterSet = []\n        const profSet = [\"All\"]\n        const moduleSet = []\n        const numRes = {}\n        const moduleProfs = {}\n        const yearSet = []\n        const profYears = {}\n        let resCount = 0;\n        response.forEach((resource) => {\n          resCount += 1;\n          if(!profSet.includes(resource.author) && resource.author !== \"null\"){            \n            profSet.push(resource.author)\n          }\n          if(!moduleSet.includes(resource.modules)){\n            moduleSet.push(resource.modules)\n          }\n          if(resource.year !== 0 && (typeof resource.year === \"number\") && !yearSet.includes(resource.year.toString())){  // year has to be a number field\n            yearSet.push(resource.year.toString())\n          }\n          // if(!Object.keys(moduleProfs).includes(resource.modules) && resource.author !== \"null\"){\n          if(resource.author !== \"null\"){\n            if(!Object.keys(moduleProfs).includes(resource.modules)){  \n              moduleProfs[resource.modules] = [resource.author]\n            }\n            // else if(!moduleProfs[resource.modules].includes(resource.author) && resource.author !== \"null\"){            \n            else if(!moduleProfs[resource.modules].includes(resource.author)){            \n              moduleProfs[resource.modules].push(resource.author)            \n            }\n          }\n          // if(resource.year !== 0 && (typeof resource.year === \"number\") && resource.author !== \"null\"){\n          if(resource.year !== 0 && (typeof resource.year === \"number\")){\n            const yearString = resource.year.toString()\n            if(!Object.keys(profYears).includes(resource.author)){\n              profYears[resource.author] = [yearString]\n            }\n            else if(!profYears[resource.author].includes(yearString)){            \n              profYears[resource.author].push(yearString)            \n            }  \n          }\n          resource.tags.forEach((tag) => {\n            const frontendTag = FrontendTag(tag)             \n            \n            if (!filterSet.includes(frontendTag)) {\n              filterSet.push(frontendTag)\n            }\n            if(!(Object.keys(numRes).includes(frontendTag))){\n              numRes[frontendTag] = 1\n            }\n            else{\n              numRes[frontendTag] += 1\n            }\n          })\n        })\n        if(yearSet.length !== 0){\n          yearSet.sort()\n          yearSet.reverse()\n        }\n        if(profYears.length !== 0){\n          Object.keys(profYears).forEach((prof) => {\n            profYears[prof].sort()\n            profYears[prof].reverse() \n          })\n        }\n        if(!(moduleSet.length === 1 && moduleSet[0] === \"null\")){\n          const reducedModuleSet = moduleSet?.filter((module) => {\n            if(module === \"null\"){\n              return false\n            }\n            return true\n          })\n          setModules([\"All\"].concat(reducedModuleSet))\n          setCurrentModule(\"All\")         \n          const dumString = \"All\"\n          moduleProfs[dumString] = profSet\n          setProfPerModule(moduleProfs)\n        } \n        else{\n          setProfPerModule({\"null\" : profSet})\n        }      \n        if(!(profSet.length === 2 && profSet[1] === \"null\")){\n          const reducedProfSet = profSet?.filter((prof) => {\n            if(prof === \"null\"){\n              return false\n            }\n            return true\n          })\n          setProfs(reducedProfSet)\n          setSelectedProf(\"All\")\n          const dumString = \"All\"\n          profYears[dumString] = [\"All\"].concat(yearSet)\n          setYearPerProf(profYears)\n        }\n        else{\n          setYearPerProf({\"null\" : [\"All\"].concat(yearSet)})\n        }\n        if(yearSet.length !== 0){\n          setYears([\"All\"].concat(yearSet))\n          setCurrentYear(\"All\")\n          // const dumString = \"All\"\n          // profYears[dumString] = [\"All\"].concat(yearSet)\n          // setYearPerProf(profYears)\n        }\n        // setSelectedProf(\"All\")\n        // setProfs(profSet)     \n        setAllResCount(resCount)\n        setResPerFilter(numRes)\n        \n        \n      }\n      catch (error) {\n        toast({ status: 'error', content: error })\n      }\n      finally {\n        setLoading(false)\n      }\n    }\n    fetchResources()\n  }, [code])\n\n  \n\n  const redirectContribute = () => navigate(`/contribute?course=${code}`)\n\n  const updateFilteredResources = (prof, tab, module_, year) => {\n    \n    const numRes = {}  \n    Object.keys(resPerFilter).forEach((key) => {numRes[key] = 0})\n    try{\n      \n      let resCount = 0;      \n      \n      const filtered = resources.filter((resource) => {\n        if((prof === \"All\" || prof === \"null\" || resource.author === prof) && (module_ === \"All\" || module_ === \"null\" || module_ === resource.modules) && (year === \"0\" || year === \"All\" || year === resource.year.toString())){\n          \n          resCount += 1;\n          let hasValidTag = false;\n          for (let i = 0; i < resource.tags.length; i += 1) {              \n            const frontendTag = FrontendTag(resource.tags[i])\n            if(!(Object.keys(numRes).includes(frontendTag))){\n              numRes[frontendTag] = 1\n            }\n            else{\n              numRes[frontendTag] += 1\n            }\n            if (frontendTag === tab || tab === \"All\"){              \n                hasValidTag = true;                           \n            }                    \n          }\n          if(hasValidTag === true){\n            return true;\n          }\n        }\n        return false\n      })\n      setAllResCount(resCount)\n      setResPerFilter(numRes)\n      setFilteredResources(filtered)\n    }\n    catch{\n      setFilteredResources([])\n      setResPerFilter(numRes)\n      setAllResCount(0)\n    }\n\n  }\n\n  const handleTabChange = (tab) => {\n    setCurrentTab(tab)    \n    updateFilteredResources(selectedProf, tab, currentModule, currentYear)    \n  }\n\n  const handleProfChange = (prof) => {\n    setSelectedProf(prof)\n    setProfDropValue(prof)\n    setCurrentYear(defaultYear)\n    setYearDropValue(\"Select Year\")\n    updateFilteredResources(prof, currentTab, currentModule, defaultYear)\n  }\n\n  const handleModuleChange = (module) => {\n    setCurrentModule(module)\n    setModuleDropValue(module)\n    setCurrentYear(defaultYear)\n    setYearDropValue(\"Select Year\")\n    setSelectedProf(\"All\")\n    setProfDropValue(\"Select Prof\")\n    updateFilteredResources(\"All\", currentTab, module, defaultYear)\n  }\n\n  const handleYearChange = (year) => {\n    setCurrentYear(year)\n    setYearDropValue(year)\n    updateFilteredResources(selectedProf, currentTab, currentModule, year)    \n  }\n\n  const renderResources = (resList) => {\n    return(\n      <div>\n      {resList.length ? (\n      <CourseResourceGrid items={resList} />\n      ) : (\n        <NotFoundSearch active/>\n      )}\n      </div>\n    )\n  }\n\n  const renderModuleDropdown = (modulesList) => {\n    if(modulesList.length !== 0){\n      return(\n        <Select            \n            style={{\n            //   marginLeft: 'auto',\n            //   alignSelf: 'end',\n              marginRight: '2rem'\n            }}\n            placeholder=\"Select Module\"            \n            showArrow            \n            onChange={handleModuleChange}\n            value={moduleDropValue}\n            >\n            {modulesList?.map((module_) => {\n              return <Select.Option key={module_}>{module_}</Select.Option>\n            })}\n        </Select> \n      )\n    }\n    return(\n      null\n    )\n  }\n\n  const renderProfDropDown = () => {\n    return(\n      <Select    \n            style={{\n              // marginLeft: 'auto',\n              // alignSelf: 'end'\n              marginRight: '2rem'\n            }}\n            placeholder=\"Select Prof\"\n            showArrow\n            onChange={handleProfChange}\n            value={profDropValue}\n            >\n            {profPerModule[currentModule]?.map((prof) =>{            \n              return <Select.Option key={prof}>{prof}</Select.Option>\n            })}\n        </Select> \n    )\n  }\n\n  const renderYearDropDown = (yearsList) => {\n    if(yearsList.length !== 0){\n      return(\n        <Select  \n            // style={{\n            //   alignSelf: 'end',\n            // }}          \n            placeholder=\"Select Year\"\n            showArrow\n            onChange={handleYearChange}\n            \n            value={yearDropValue}\n            >\n            {yearPerProf[selectedProf]?.map((year_) =>{\n              return <Select.Option key={year_}>{year_}</Select.Option>\n            })}\n        </Select> \n      )\n    }\n    return null\n  }\n  \n\n  if (loading) return <LoaderAnimation />\n\n  return (\n    <>\n      <Header>\n        <h1 style={{ fontSize: '1.25rem' }}>Resources</h1>\n\n        <ButtonContainer>\n          {isMobileS ? (\n            <CourseContentRequestIcon\n              code={code}\n              type=\"resources\"\n              style={{ marginRight: '0.75rem' , marginLeft: '0.75rem'}}\n            />\n          ) : (\n            <CourseContentRequest\n              code={code}\n              type=\"resources\"\n              style={{ marginRight: '0.75rem' , marginLeft: '0.75rem'}}\n            />\n          )}\n\n          <ButtonSquare\n            type=\"primary\"\n            onClick={redirectContribute}\n            icon={<CloudUpload size=\"16\" />}\n          >\n            Upload\n          </ButtonSquare>\n        </ButtonContainer>\n      </Header>\n      <Header\n        style={{\n          display: 'flex',\n          flexDirection: 'row',\n          flexWrap: 'wrap',\n          // alignContent: 'end'\n        }}\n      >\n        {renderModuleDropdown(modules)} \n        {renderProfDropDown()}\n        {renderYearDropDown(years)}\n      </Header>\n      <Container>        \n        <Tabs\n          tabheight=\"2.25rem\"\n          tabwidth=\"7.5rem\"\n          animated\n          onChange={handleTabChange}\n        >\n          <Tabs.TabPane\n            key=\"All\"\n            tab={\n              allResCount\n                ? `All (${allResCount})`\n                : `All`\n            }\n          >\n           {renderResources(filteredResources)} \n          </Tabs.TabPane>\n          {Object.keys(resPerFilter)?.map((filter) => {            \n              return (\n              <Tabs.TabPane\n                key={filter}\n                tab={\n                  resPerFilter[filter]     \n                    ? `${filter} (${resPerFilter[filter]})`\n                    : `${filter}`\n                }\n              >              \n              {renderResources(filteredResources)}\n              </Tabs.TabPane>)\n            })}\n\n        </Tabs>\n      </Container>\n\n      \n    </>\n  )\n}\n\nexport default CourseResourceContainer\n\nconst Container = styled.div`\n  margin-top: 1rem;\n  margin-bottom: 1rem;\n  padding: 1.5rem 1rem;\n  color: ${({ theme }) => theme.textColor};\n  background: ${({ theme }) => theme.secondary};\n  border-radius: ${({ theme }) => theme.borderRadius};\n`\n\nconst ButtonContainer = styled.div`\n  display: flex;\n  align-items: center;\n`\n\nconst Header = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: start;\n  margin: 1rem 0;\n`\n\n","import { useState } from 'react'\nimport ReactQuill from 'react-quill'\nimport { useSelector } from 'react-redux'\nimport styled from 'styled-components/macro'\n\nimport {\n  ButtonSquare,\n  Comment,\n  Form,\n  toast,\n  UserAvatar,\n} from 'components/shared'\nimport { selectUserProfile } from 'store/userSlice'\n\nimport reviewTemplate from './reviewTemplate'\n\nconst formats = [\n  'header',\n  'code',\n  'bold',\n  'italic',\n  'underline',\n  'strike',\n  'blockquote',\n  'list',\n  'bullet',\n  'indent',\n  'link',\n]\n\nfunction loadTemplate() {\n  const delta = this.quill.clipboard.convert(reviewTemplate)\n  this.quill.setContents(delta, 'api')\n}\n\nconst modules = {\n  toolbar: {\n    container: '#toolbar',\n    handlers: {\n      loadTemplate,\n    },\n  },\n  clipboard: {\n    // toggle to add extra line breaks when pasting HTML:\n    matchVisual: false,\n  },\n}\n\nconst CustomToolbar = ({ templateHandler }) => (\n  <Toolbar id=\"toolbar\" style={{ border: 'none' }}>\n    <select\n      className=\"ql-header\"\n      defaultValue=\"3\"\n      onChange={(e) => e.persist()}\n    >\n      <option aria-label=\"button\" value=\"1\" />\n      <option aria-label=\"button\" value=\"2\" />\n      <option aria-label=\"button\" value=\"3\" />\n    </select>\n\n    <button type=\"button\" aria-label=\"button\" className=\"ql-bold\" />\n\n    <button type=\"button\" aria-label=\"button\" className=\"ql-italic\" />\n\n    {templateHandler && (\n      <button type=\"button\" className=\"ql-loadTemplate\">\n        Load template\n      </button>\n    )}\n  </Toolbar>\n)\n\nexport const QuillEditor = ({\n  value,\n  onChange,\n  placeholder,\n  templateHandler,\n  validate,\n}) => {\n  const handleChange = async (content, delta, source, editor) => {\n    validate(editor.getText().length)\n    onChange(content)\n  }\n\n  return (\n    <>\n      <CustomToolbar templateHandler={templateHandler} />\n      <StyledReactQuill\n        formats={formats}\n        modules={modules}\n        onChange={handleChange}\n        value={value}\n        placeholder={placeholder}\n      />\n    </>\n  )\n}\n\nexport const Editor = ({\n  onSubmit,\n  initialValue = '',\n  submitText = 'Post',\n  templateHandler,\n}) => {\n  const [loading, setLoading] = useState(false)\n  const [form] = Form.useForm()\n\n  const handleSubmit = async (values) => {\n    try {\n      setLoading(true)\n      const errors = form.getFieldError('body')\n      if (errors.length) throw new Error(errors[0])\n\n      await onSubmit(values)\n      form.resetFields()\n      form.setFields([{ name: 'body', errors: [] }])\n    } catch (error) {\n      toast({ status: 'error', content: error })\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const validate = (length) => {\n    if (length <= 10) {\n      form.setFields([\n        {\n          name: 'body',\n          errors: ['Review must be atleast 10 characters long.'],\n        },\n      ])\n    } else if (length > 3000) {\n      form.setFields([\n        {\n          name: 'body',\n          errors: ['Review must be atmost 3000 characters long.'],\n        },\n      ])\n    } else {\n      form.setFields([{ name: 'body', errors: [] }])\n    }\n  }\n  // git imp \"Add \"\n  return (\n    <Form\n      layout=\"vertical\"\n      form={form}\n      onFinish={handleSubmit}\n      initialValues={{ body: initialValue }}\n    >\n      <Form.Item name=\"body\">\n        <QuillEditor\n          templateHandler={templateHandler}\n          placeholder=\"Write your review here...\"\n          validate={validate}\n        />\n      </Form.Item>\n\n      <Form.Item>\n        <ButtonSquare type=\"primary\" htmlType=\"submit\" loading={loading}>\n          {submitText}\n        </ButtonSquare>\n      </Form.Item>\n    </Form>\n  )\n}\n\nexport const ReviewEditor = ({ ...editorProps }) => {\n  const profile = useSelector(selectUserProfile)\n\n  return (\n    <Comment\n      avatar={\n        <UserAvatar\n          size=\"2rem\"\n          src={profile.profilePicture}\n          alt=\"Profile picture\"\n        />\n      }\n      content={<Editor {...editorProps} />}\n    />\n  )\n}\n\nexport default Editor\n\nconst StyledReactQuill = styled(ReactQuill)`\n  margin-bottom: 0.75rem;\n  color: ${({ theme }) => theme.textColor};\n  background: ${({ theme }) => theme.darksecondary};\n  border-top: 1px solid ${({ theme }) => theme.dividerColor};\n  border-bottom-right-radius: ${({ theme }) => theme.borderRadius};\n  border-bottom-left-radius: ${({ theme }) => theme.borderRadius};\n  box-shadow: 0 0 1rem 4px rgb(0 0 0 / 20%);\n\n  .ql-container {\n    border: none;\n  }\n\n  .ql-editor {\n    &.ql-blank::before {\n      color: ${({ theme }) => theme.textColorInactive};\n    }\n  }\n`\n\nconst Toolbar = styled.div`\n  color: ${({ theme }) => theme.textColor};\n  background: ${({ theme }) => theme.darksecondary};\n  border-top-left-radius: ${({ theme }) => theme.borderRadius};\n  border-top-right-radius: ${({ theme }) => theme.borderRadius};\n\n  .ql-stroke {\n    fill: none;\n    stroke: ${({ theme }) => theme.textColor};\n    stroke-linecap: round;\n    stroke-linejoin: round;\n    stroke-width: 2;\n  }\n\n  .ql-picker-label::before {\n    color: ${({ theme }) => theme.textColor};\n  }\n\n  button,\n  select {\n    background: none;\n  }\n\n  button.ql-loadTemplate {\n    width: fit-content;\n    color: ${({ theme }) => theme.textColor};\n  }\n`\n","export default `\n<h1 id=\"course-review\">Course review</h1>\n<br />\n\n<h2 id=\"details\">Details</h2>\n<ul>\n  <li>Year and semester taken: </li>\n  <li>Professor: </li>\n  <li>Attendance criteria: </li>\n  <li>Time spent on course (h/week):</li>\n  <li>Overall rating (on 10): </li>\n</ul>\n<br />\n\n<h2 id=\"prerequisites-necessary-if-any-\">Prerequisites necessary (if any)</h2>\n<br />\n<br />\n\n<h2 id=\"course-difficulty\">Course difficulty</h2>\n<p>[i.e. how difficult the tests/assignments were and how strict the grading was?]</p>\n<br />\n<br />\n\n<h2 id=\"overview\">Overview</h2>\n<p>[i.e. the expected learnings and future aspects]</p>\n<br />\n<br />\n\n<h2 id=\"personal-opinion\">Personal opinion</h2>\n<br />\n<br />\n`\n","import { ThumbUp as ThumbUpOutlined } from '@styled-icons/heroicons-outline'\nimport { ThumbUp as ThumbUpFilled } from '@styled-icons/heroicons-solid'\nimport { Button } from 'antd'\nimport DOMPurify from 'dompurify'\nimport { useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport styled from 'styled-components/macro'\n\nimport {\n  ButtonIcon,\n  Comment,\n  Timestamp,\n  toast,\n  UserAvatar,\n} from 'components/shared'\nimport { API } from 'config/api'\nimport {\n  selectUserProfile,\n  selectReviewVoteStatus,\n  updateReviewsVoted,\n} from 'store/userSlice'\n\nimport { Editor, ReviewEditor } from './Editor'\n\n// TODO: Add icons to actions\n// TODO: Improve styling for mobile view\nconst CourseReviewItem = ({ content, updateContent, depth }) => {\n  const dispatch = useDispatch()\n\n  const voteStatus = useSelector(selectReviewVoteStatus(content.id))\n  const [voteCount, setVoteCount] = useState(content.votersCount)\n  const [loading, setLoading] = useState(false)\n  const [action, setAction] = useState(null)\n\n  const profile = useSelector(selectUserProfile)\n  const isOwner = profile.id === content.userProfile.id\n\n  const vote = async () => {\n    try {\n      setLoading(true)\n      if (voteStatus) {\n        await API.reviews.vote.remove({ id: content.id })\n        setVoteCount(voteCount - 1)\n      } else {\n        await API.reviews.vote.add({ id: content.id })\n        setVoteCount(voteCount + 1)\n      }\n\n      dispatch(updateReviewsVoted(content.id))\n    } catch (error) {\n      toast({ status: 'error', content: error })\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  // const showReplyForm = () =>\n  //   action === 'reply' ? setAction(null) : setAction('reply')\n  // const showEditForm = () =>\n  //   isOwner && (action === 'edit' ? setAction(null) : setAction('edit'))\n\n  const handleUpdate = async ({ body }) => {\n    try {\n      const payload = { ...content, body }\n      await API.reviews.update({ id: content.id, payload })\n      updateContent({ id: content.id, payload })\n      setAction(null)\n      toast({ status: 'success', content: 'Content update pending approval' })\n    } catch (error) {\n      toast({ status: 'error', content: error })\n    }\n  }\n\n  const handleDelete = async () => {\n    try {\n      await API.reviews.delete({ id: content.id })\n      updateContent({ id: content.id, payload: null })\n      toast({ status: 'success', content: 'Successfully deleted content' })\n    } catch (error) {\n      toast({ status: 'error', content: error })\n    }\n  }\n\n  const handleCreateChild = async ({ body }) => {\n    try {\n      const response = await API.reviews.create({\n        payload: {\n          course: content.course,\n          parent: content.id,\n          body,\n          status: false,\n        },\n      })\n      toast({ status: 'success', content: 'Reply pending approval.' })\n\n      const payload = content\n      if (payload?.children) payload.children.push(response)\n      else payload.children = [response]\n\n      updateContent({ id: content.id, payload })\n      setAction(null)\n    } catch (error) {\n      toast({ status: 'error', content: error })\n    }\n  }\n\n  const actions = [\n    <ButtonIcon\n      key=\"content-vote\"\n      shape=\"round\"\n      size=\"middle\"\n      icon={\n        voteStatus ? <ThumbUpFilled size=\"16\" /> : <ThumbUpOutlined size=\"16\" />\n      }\n      onClick={vote}\n      loading={loading}\n    >\n      <LikeCount>{voteCount}</LikeCount>\n    </ButtonIcon>,\n\n    // depth < 1 && (\n    //   <Button key=\"content-reply\" type=\"link\" onClick={showReplyForm}>\n    //     Reply\n    //   </Button>\n    // ),\n\n    // isOwner && (\n    //   <Button key=\"content-edit\" type=\"link\" onClick={showEditForm}>\n    //     {action === 'edit' ? 'Cancel editing' : 'Edit'}\n    //   </Button>\n    // ),\n\n    isOwner && (\n      <Button key=\"content-delete\" type=\"link\" onClick={handleDelete}>\n        Delete\n      </Button>\n    ),\n  ]\n\n  return (\n    <Comment\n      key={content?.id}\n      actions={actions}\n      author={<CommentHeader>{content?.userProfile?.name}</CommentHeader>}\n      avatar={\n        <UserAvatar\n          size=\"2rem\"\n          src={content?.userProfile.profilePicture}\n          alt=\"Profile picture\"\n        />\n      }\n      content={\n        action === 'edit' ? (\n          <Editor\n            initialValue={DOMPurify.sanitize(content?.body)}\n            onSubmit={handleUpdate}\n            submitText=\"Save\"\n          />\n        ) : (\n          <CommentText\n            dangerouslySetInnerHTML={{\n              __html: DOMPurify.sanitize(content?.body),\n            }}\n          />\n        )\n      }\n      datetime={<Timestamp time={content.timestamp} />}\n    >\n      {action === 'reply' && <ReviewEditor onSubmit={handleCreateChild} />}\n\n      {content?.children?.map((child) => (\n        <CourseReviewItem\n          key={child.id}\n          content={child}\n          updateContent={updateContent}\n          depth={depth + 1}\n        />\n      ))}\n    </Comment>\n  )\n}\n\nexport default CourseReviewItem\n\nconst LikeCount = styled.span`\n  margin-left: 0.5rem;\n  color: ${({ theme }) => theme.textColor};\n  font-size: 0.75rem;\n`\n\nconst CommentHeader = styled.h2`\n  color: ${({ theme }) => theme.textColor};\n  font-weight: 600;\n  font-size: 0.75rem;\n\n  &:hover {\n    color: ${({ theme }) => theme.textColor};\n  }\n`\n\nconst CommentText = styled.div`\n  margin-top: 0.5rem;\n  color: ${({ theme }) => theme.textColor};\n\n  a {\n    color: ${({ theme }) => theme.primary};\n\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n`\n","import { Fragment, useEffect, useState } from 'react'\nimport { useParams } from 'react-router-dom'\nimport styled from 'styled-components/macro'\n\nimport { CourseContentRequest } from 'components/CoursePage'\nimport { Divider, LoaderAnimation, toast } from 'components/shared'\nimport { API } from 'config/api'\n\nimport CourseReviewItem from './CourseReviewItem'\nimport { ReviewEditor } from './Editor'\n\nconst nestComments = (commentsList) => {\n  const commentsMap = {}\n  commentsList.forEach((comment) => {\n    commentsMap[comment.id] = comment\n  })\n\n  commentsList.forEach((comment) => {\n    if (comment.parent !== null && commentsMap[comment.parent]) {\n      if (commentsMap[comment.parent].children === undefined)\n        commentsMap[comment.parent].children = []\n      commentsMap[comment.parent].children.push(comment)\n    }\n  })\n\n  return commentsList.filter((comment) => comment.parent === null)\n}\n\nconst recursiveApply = (array, callback) =>\n  callback(array).map((item) =>\n    item?.children?.length\n      ? { ...item, children: recursiveApply(item.children, callback) }\n      : item\n  )\n\nconst CourseReviewContainer = () => {\n  const { code } = useParams()\n\n  const [reviewsData, setReviewsData] = useState([])\n  const [APILoading, setAPILoading] = useState(true)\n\n  useEffect(() => {\n    const fetchReviews = async () => {\n      try {\n        setAPILoading(true)\n        let response = await API.courses.listReviews({ code })\n        response = nestComments(response)\n        setReviewsData(response)\n      } catch (error) {\n        toast({ status: 'error', content: error })\n      } finally {\n        setAPILoading(false)\n      }\n    }\n\n    fetchReviews()\n  }, [code])\n\n  const handleUpdateContent = ({ id, payload }) => {\n    if (id === null) {\n      // ? create review\n      // setReviewsData([payload, ...reviewsData])\n    } else if (payload === null) {\n      // ? delete review / reply\n      setReviewsData((_reviewsData) =>\n        recursiveApply(_reviewsData, (array) =>\n          array.filter((review) => id !== review.id)\n        )\n      )\n    } else {\n      // ? update review / reply\n      // setReviewsData((_reviewsData) =>\n      //   recursiveApply(_reviewsData, (array) =>\n      //     array.map((review) => (id !== review.id ? review : payload))\n      //   )\n      // )\n    }\n  }\n\n  const createContent = async ({ body }) => {\n    try {\n      const response = await API.reviews.create({\n        payload: { course: code, parent: null, body },\n      })\n\n      handleUpdateContent({ id: null, payload: { ...response, children: [] } })\n      toast({ status: 'success', content: 'Review awaiting approval.' })\n    } catch (error) {\n      toast({ status: 'error', content: error })\n    }\n  }\n\n  if (APILoading) return <LoaderAnimation />\n\n  return (\n    <>\n      <Header>\n        <h1 style={{ fontSize: '1.25rem' }}>Reviews</h1>\n\n        <CourseContentRequest code={code} type=\"reviews\" />\n      </Header>\n\n      <ReviewEditor onSubmit={createContent} templateHandler />\n\n      {reviewsData.map((review) => (\n        <Fragment key={review.id}>\n          <Divider margin=\"1rem 0\" />\n\n          <CourseReviewItem\n            content={review}\n            updateContent={handleUpdateContent}\n            course={code}\n            depth={0}\n          />\n        </Fragment>\n      ))}\n    </>\n  )\n}\n\nexport default CourseReviewContainer\n\nconst Header = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1rem 0;\n`\n","import { BookOpen, Home, ChevronRight } from '@styled-icons/heroicons-outline'\nimport { Breadcrumb } from 'antd'\nimport { Link } from 'react-router-dom'\nimport styled from 'styled-components/macro'\n\nimport { useResponsive } from 'hooks'\nimport { fontSize } from 'styles/responsive'\n\nconst CoursePageBreadcrumbs = ({ courseTitle }) => {\n  const { isMobileS } = useResponsive()\n  if (isMobileS) return null\n\n  return (\n    <StyledBreadcrumb separator={<StyledIcon Icon={ChevronRight} />}>\n      <Breadcrumb.Item>\n        <Link to=\"/\">\n          <StyledIcon Icon={Home} />\n          <span>Home</span>\n        </Link>\n      </Breadcrumb.Item>\n\n      <Breadcrumb.Item>\n        <Link to=\"/courses\">\n          <StyledIcon Icon={BookOpen} />\n          <span>Courses</span>\n        </Link>\n      </Breadcrumb.Item>\n\n      <Breadcrumb.Item>\n        <span>{courseTitle}</span>\n      </Breadcrumb.Item>\n    </StyledBreadcrumb>\n  )\n}\n\nexport default CoursePageBreadcrumbs\n\nconst StyledBreadcrumb = styled(Breadcrumb)`\n  display: flex;\n  align-items: center;\n  margin: 1rem;\n  font-size: ${fontSize.responsive.xs};\n\n  & > span {\n    display: flex;\n  }\n\n  .ant-breadcrumb-link {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: ${({ theme }) => theme.primary};\n\n    a {\n      display: flex;\n      gap: 0.5rem;\n      align-items: center;\n      color: ${({ theme }) => theme.textColor};\n\n      &:hover {\n        text-decoration: underline;\n        text-underline-offset: 1px;\n      }\n    }\n  }\n`\n\nconst StyledIcon = styled(({ Icon, className, ...props }) => (\n  <Icon {...props} className={className} />\n))`\n  height: 20px;\n  color: ${({ theme }) => theme.textColor};\n`\n","import styled from 'styled-components/macro'\n\nconst CourseSlot = ({ semester }) => {\n  const slot = semester.find((s) => s.timetable.length !== 0)\n\n  if (!slot) {\n    return <Title style={{ opacity: 0.8 }}>Slots not found</Title>\n  }\n\n  const [Slots] = slot.timetable\n\n  const SlotItems = []\n\n  if (Slots.lectureSlots.length !== 0) {\n    SlotItems.push({\n      title: 'Lecture Slots',\n      value: Slots.lectureSlots.join(', '),\n    })\n  }\n\n  if (Slots.tutorialSlots.length !== 0) {\n    SlotItems.push({\n      title: 'Tutorial Slots',\n      value: Slots.tutorialSlots.join(', '),\n    })\n  }\n\n  if (SlotItems.length === 0) {\n    return null\n  }\n\n  return (\n    <CourseSlotContainer>\n      <Title>Slots:</Title>\n      <SlotContainer>\n        {SlotItems.map(({ title, value }) => (\n          <span key={title}>\n            {title}: <b>{value}</b>\n          </span>\n        ))}\n      </SlotContainer>\n    </CourseSlotContainer>\n  )\n}\n\nexport default CourseSlot\n\nconst CourseSlotContainer = styled.div`\n  color: ${({ theme }) => theme.textColor};\n\n  h3 {\n    font-weight: 400;\n    margin-bottom: 0.25rem;\n  }\n`\n\nconst SlotContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n  background: ${({ theme }) => theme.darksecondary};\n  padding: 0.5rem;\n  border-radius: ${({ theme }) => theme.borderRadius};\n`\n\nconst Title = styled.h3`\n  margin: 0 0.25rem 0.25rem;\n  color: ${({ theme }) => theme.textColor};\n  font-weight: 400;\n`\n","import { useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { useLocation, useNavigate, Link } from 'react-router-dom'\nimport styled from 'styled-components/macro'\n\nimport { CourseResourceContainer } from 'components/CourseResource'\nimport { CourseReviewContainer } from 'components/CourseReview'\nimport { FavoriteToggle } from 'components/Favourites'\n// import { Aside, PageSubtitle, Tabs, Divider } from 'components/shared'\nimport { Aside, Tabs, Divider, toast } from 'components/shared'\nimport { TimetableSelector } from 'components/Timetable'\nimport { API } from 'config/api'\nimport { selectCurrentSemester } from 'store/courseSlice'\nimport { device, fontSize } from 'styles/responsive'\n\nimport CoursePageBreadcrumbs from './CoursePageBreadcrumbs'\nimport CourseSlot from './CourseSlot'\n\nconst CourseProfessors = ({ semester }) => {\n  const latestSemester = useSelector(selectCurrentSemester)\n  const professors = semester\n    ?.find(\n      ({ season, year }) =>\n        season === latestSemester?.season && year === latestSemester?.year\n    )\n    ?.timetable?.map(({ professor, division }) => ({ division, professor }))\n\n  if (!professors?.length) return null\n\n  return (\n    professors.length && (\n      <CourseProfessorsContainer>\n        <h3>Instructors:</h3>\n\n        <ProfessorList>\n          {professors.map(({ division, professor }) => (\n            <span key={`${division}-${professor}`}>\n              {division}: <b>{professor}</b>\n            </span>\n          ))}\n        </ProfessorList>\n      </CourseProfessorsContainer>\n    )\n  )\n}\n\nconst SimilarCourses = ({ courses }) => {\n  if (courses.length === 0) {\n    return (\n      <SimilarContainer>\n        <h3>No similar courses found</h3>\n      </SimilarContainer>\n    )\n  }\n\n  return (\n    <SimilarContainer>\n      <SimilarList>\n        {courses.map((course) => (\n          <CourseLink\n            key={course.code}\n            to={`/courses/${course.code}`}\n            data-umami-event=\"Similar Courses\"\n          >\n            <b>{course.code}</b>\n            <p>{course.title}</p>\n          </CourseLink>\n        ))}\n      </SimilarList>\n    </SimilarContainer>\n  )\n\n  // return (\n  //   <SimilarContainer>\n  //     <HeadingWithTooltip data-tooltip=\"Ensure you review each course's description before making a selection\">\n  //       Similar Courses:\n  //     </HeadingWithTooltip>\n  //     <SimilarList>\n  //       {courses.map((course) => (\n  //         <CourseLink key={course.code} to={`/courses/${course.code}`}>\n  //           <b>{course.code}</b>\n  //         </CourseLink>\n  //       ))}\n  //     </SimilarList>\n  //   </SimilarContainer>\n  // )\n}\n\nconst CPICutoff = ({ cutoff }) => {\n  if (typeof cutoff !== 'undefined' && cutoff !== null && cutoff.length > 0) {\n    return (\n      <h3>\n        &ensp;&#9679;&ensp; CPI CutOff: {cutoff[cutoff.length - 1].cutoff}\n      </h3>\n    )\n  }\n  return null\n}\n\nconst CoursePageContainer = ({ courseData, cutoffs }) => {\n  const {\n    code,\n    title,\n    department,\n    credits,\n    description,\n    workloadIgnore,\n    semester,\n    favoritedByCount,\n    reviewsIgnore,\n    resourcesIgnore,\n  } = courseData\n  const location = useLocation()\n  const navigate = useNavigate()\n  const [activeKey, setActiveKey] = useState(null)\n  const [, setLoading] = useState(true)\n  const [allResCount, setAllResCount] = useState(0)\n  const [allRevCount, setAllRevCount] = useState(0)\n  const [similarCourses, setSimilarCourses] = useState([])\n\n  const fetchSimilarCourses = async () => {\n    try {\n      const response = await API.similarCourses.read({ code: courseData.code })\n      setSimilarCourses(response)\n    } catch (error) {\n      toast({ status: 'error', content: error })\n    }\n  }\n\n  const handleTabChange = (key) => {\n    location.hash = key\n    navigate(location, { replace: true })\n  }\n\n  useEffect(() => {\n    fetchSimilarCourses()\n    const fetchResources = async () => {\n      try {\n        setLoading(true)\n        const response = await API.courses.listResources({ code })\n        setAllResCount(Object.keys(response).length)\n      } catch (error) {\n        toast({ status: 'error', content: error })\n      } finally {\n        setLoading(false)\n      }\n    }\n    fetchResources()\n    const fetchReviews = async () => {\n      try {\n        setLoading(true)\n        const response = await API.courses.listReviews({ code })\n        setAllRevCount(Object.keys(response).length)\n      } catch (error) {\n        toast({ status: 'error', content: error })\n      } finally {\n        setLoading(false)\n      }\n    }\n    fetchReviews()\n    setActiveKey(location.hash.split('#')[1] ?? 'reviews')\n  }, [location.hash])\n\n  return (\n    <>\n      <CoursePageBreadcrumbs courseTitle={`${code}: ${title}`} />\n      <ParentContainer>\n        <MainContent>\n          <CoursePageBody>\n            <CourseInfo>\n              <h1>{code}</h1>\n              <FavoriteContainer>\n                <FavoriteToggle code={code} initialCount={favoritedByCount} />\n              </FavoriteContainer>\n\n              <h2>{title}</h2>\n              <h3>\n                {department.name} &ensp;&#9679;&ensp; {credits} credits{' '}\n                <CPICutoff cutoff={cutoffs} />\n              </h3>\n\n              <Divider margin=\"0.25rem 0\" />\n\n              <p>{description || 'Not available'}</p>\n            </CourseInfo>\n\n            <Divider margin=\"0.75rem 0\" />\n\n            <FlexGap>\n              <CourseSlot semester={semester} />\n              <CourseProfessors semester={semester} />\n              <TimetableSelector semester={semester} />\n            </FlexGap>\n\n            <Divider margin=\"0.75rem 0\" />\n            {/* <SimilarCourses courses={similarCourses} /> */}\n          </CoursePageBody>\n          <Container>\n            <Tabs\n              tabheight=\"2.25rem\"\n              tabwidth=\"7.5rem\"\n              animated\n              activeKey={activeKey}\n              onChange={handleTabChange}\n            >\n              <Tabs.TabPane\n                key=\"reviews\"\n                tab={allRevCount ? `Reviews (${allRevCount})` : `Reviews`}\n              >\n                <CourseReviewContainer />\n              </Tabs.TabPane>\n\n              <Tabs.TabPane\n                key=\"resources\"\n                tab={allResCount ? `Resources (${allResCount})` : `Resources`}\n              >\n                <CourseResourceContainer />\n              </Tabs.TabPane>\n            </Tabs>\n          </Container>\n        </MainContent>\n        <Aside title=\"Similar Courses\">\n          <SimilarCourses courses={similarCourses} />\n        </Aside>\n      </ParentContainer>\n    </>\n  )\n}\n\nexport default CoursePageContainer\n\nconst ParentContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  width: 100%;\n`\n\nconst MainContent = styled.div`\n  width: 100%;\n\n  @media (min-width: 1200px) {\n    width: calc(100% - 257px);\n  }\n`\n\nconst Container = styled.div`\n  margin-bottom: 1rem;\n  padding: 1.5rem 1rem;\n  color: ${({ theme }) => theme.textColor};\n  background: ${({ theme }) => theme.secondary};\n  border-radius: ${({ theme }) => theme.borderRadius};\n  // max-width: 79.5%;\n`\n\nconst CoursePageBody = styled.div`\n  position: relative;\n  margin-bottom: 1.5rem;\n  padding: 1.5rem 1rem;\n  background: ${({ theme }) => theme.secondary};\n  border-radius: ${({ theme }) => theme.borderRadius};\n  // max-width: 79.5%;\n\n  @media ${device.max.xs} {\n    margin-top: 0.75rem;\n    padding: 0.75rem;\n  }\n`\n\nconst CourseInfo = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  color: ${({ theme }) => theme.textColor};\n\n  h1 {\n    color: ${({ theme }) => theme.primary};\n    font-weight: 600;\n    font-size: ${fontSize.responsive.$4xl};\n    line-height: 1;\n  }\n\n  h2 {\n    font-size: ${fontSize.responsive.xl};\n  }\n\n  h3 {\n    display: flex;\n    font-weight: 400;\n    font-size: ${fontSize.responsive.xs};\n  }\n\n  p {\n    margin: 0;\n    font-weight: 300;\n    font-size: ${fontSize.responsive.sm};\n    font-family: 'Source Sans Pro', sans-serif;\n    text-align: justify;\n  }\n`\n\nconst FavoriteContainer = styled.div`\n  position: absolute;\n  top: 0;\n  right: 0;\n  margin: 1.5rem 1rem;\n\n  @media ${device.max.xs} {\n    flex-direction: column;\n    margin: 0.75rem 0.5rem;\n  }\n`\n\nconst FlexGap = styled.div`\n  display: flex;\n  gap: 0.75rem;\n  align-items: baseline;\n  justify-content: space-between;\n\n  @media ${device.max.xs} {\n    flex-direction: column;\n    align-items: center;\n  }\n`\n\nconst CourseProfessorsContainer = styled.div`\n  color: ${({ theme }) => theme.textColor};\n\n  h3 {\n    font-weight: 400;\n    margin-bottom: 0.25rem;\n  }\n`\n\nconst ProfessorList = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n  background: ${({ theme }) => theme.darksecondary};\n  padding: 0.5rem;\n  border-radius: ${({ theme }) => theme.borderRadius};\n`\n\nconst SimilarContainer = styled.div`\n  color: ${({ theme }) => theme.textColor};\n  display: flex;\n  gap: 1rem;\n`\n\nconst SimilarList = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  max-height: 18rem;\n`\n\nconst CourseLink = styled(Link)`\n  color: ${({ theme }) => theme.textColor};\n  background: ${({ theme }) => theme.darksecondary};\n  padding: 0.5rem;\n  margin-right: 0.5rem;\n  border-radius: ${({ theme }) => theme.borderRadius};\n  text-decoration: none;\n  display: block;\n  font-family: 'Source Sans Pro', sans-serif;\n\n  p {\n    margin-top: 0.35rem;\n    margin-bottom: 0;\n    color: ${({ theme }) => theme.primary};\n    font-family: 'Source Sans Pro', sans-serif;\n    font-weight: 400;\n    font-size: ${fontSize.responsive.sm};\n  }\n\n  &:hover {\n    background: ${({ theme }) => theme.darksecondary};\n    text-decoration: none;\n  }\n`\n\n// const HeadingWithTooltip = styled.h3`\n//   font-weight: 400;\n//   margin-bottom: 0.25rem;\n//   position: relative; // Needed to position the tooltip\n//   cursor: pointer; // Changes the cursor to indicate it's hoverable\n\n//   &::after {\n//     content: '';\n//     position: absolute;\n//     z-index: 10;\n//     left: 50%; // Center above the heading\n//     top: 0; // Position at the top of the heading\n//     transform: translate(-50%, -100%); // Adjust horizontally and move up\n//     padding: 0.25rem 0.5rem; // Smaller padding\n//     border-radius: ${({ theme }) =>\n//       theme.borderRadius}; // Use your theme's border-radius\n//     background-color: black; // Tooltip background color\n//     color: white; // Tooltip text color\n//     font-size: 0.75rem; // Smaller font size\n//     white-space: nowrap; // Keeps the tooltip text on one line\n//     box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.2); // Optional: adds a shadow effect\n//     visibility: hidden; // By default, the tooltip is not visible\n//     opacity: 0; // Start invisible\n//     transition: opacity 0.3s, visibility 0.3s, transform 0.3s; // Transition for appearance and position\n//     pointer-events: none; // Prevents the tooltip from being clickable and blocking other elements\n//   }\n\n//   &:hover::after {\n//     content: attr(data-tooltip); // Now the content is only added on hover\n//     visibility: visible; // Make it visible\n//     opacity: 1; // Fully opaque\n//     transform: translate(\n//       -50%,\n//       -110%\n//     ); // Adjust position to move slightly above the heading\n//   }\n// `\n\n// const SimilarContainer = styled.div`\n//   color: ${({ theme }) => theme.textColor};\n\n//   h3 {\n//     font-weight: 400;\n//     margin-bottom: 0.25rem;\n//   }\n\n//   display: flex;\n//   align-items: center;\n//   gap: 1rem;\n// `\n\n// const CourseLink = styled(Link)`\n//   color: ${({ theme }) => theme.textColor};\n//   background: ${({ theme }) => theme.darksecondary};\n//   padding: 0.5rem;\n//   margin-right: 0.5rem;\n//   border-radius: ${({ theme }) => theme.borderRadius};\n//   text-decoration: none;\n//   display: block;\n//   text-align: center;\n\n//   &:hover {\n//     background: #7465a6;\n//     text-decoration: none;\n//   }\n// `\n\n// const SimilarList = styled.div`\n//   display: flex;\n//   flex-direction: row;\n//   gap: 0.25rem;\n//   overflow-x: auto;\n// `\n","import { isEmpty, kebabCase } from 'lodash'\nimport { useEffect, useState } from 'react'\nimport { Helmet } from 'react-helmet-async'\nimport { Navigate, useLocation, useParams } from 'react-router-dom'\n\nimport { CoursePageContainer } from 'components/CoursePage'\nimport { LoaderAnimation, PageContainer, toast } from 'components/shared'\nimport { API } from 'config/api'\nimport { coursePageUrl } from 'helpers'\n\nconst CoursePage = () => {\n  const location = useLocation()\n  const { code, titleSlug } = useParams()\n  const [courseData, setCourseData] = useState({})\n  const [cutoffs, setCutoffs] = useState([])\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    const getCourseData = async () => {\n      try {\n        setLoading(true)\n        const response = await API.courses.read({ code })\n        // console.log(response)\n        const reponseCutoff = await API.courses.getCutoffs({ code })\n        setCourseData(response)\n        setCutoffs(reponseCutoff)\n      } catch (error) {\n        toast({ status: 'error', content: error })\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    getCourseData()\n  }, [code])\n\n  if (loading) return <LoaderAnimation />\n  if (isEmpty(courseData)) return <Navigate to=\"/404\" replace />\n\n  // ? redirect to canonical URL (eg: /courses/CL152/introduction-to-chemical-engineering)\n  if (titleSlug !== kebabCase(courseData.title)) {\n    const pathname = coursePageUrl(courseData.code, courseData.title)\n    return <Navigate to={{ ...location, pathname }} replace />\n  }\n\n  return (\n    <PageContainer disable={['aside']}>\n      <Helmet>\n        <title>{`${courseData.code}: ${courseData.title} - ResoBin`}</title>\n        <meta property=\"description\" content={courseData.description} />\n      </Helmet>\n\n      <CoursePageContainer courseData={courseData} cutoffs={cutoffs} />\n    </PageContainer>\n  )\n}\n\nexport default CoursePage\n"],"names":["getQueryString","useQueryString","useState","loading","setLoading","courseData","setCourseData","fetchCourses","params","API","response","toast","status","content","useEffect","filter","q","search_fields","page","p","showFilter","title","count","courseList","results","description","limitLines","height","css","visible","onEdit","onCancel","initialValues","value","label","profList","setProfList","moduleList","setModuleList","currentYear","Date","getFullYear","yearsAllowed","Form","form","handleOk","validateFields","values","tagOptions","tags","tag","courseOptions","useSelector","selectCourseListMinified","map","code","handleCourseChange","course_","fetchProfs","profSet","profSetFormat","moduleSetFormat","professors","forEach","entry","push","modules","length","course12","course","okText","cancelText","onOk","layout","name","onFinish","rules","required","message","showSearch","placeholder","options","onChange","mode","showArrow","CourseResourceItem","initialContent","colorPicker","useColorPicker","isOwner","selectUserProfile","id","uploadedBy","editModalVisible","setEditModalVisible","setContent","handleEdit","payload","GridItem","src","thumbnail","alt","style","width","ItemInfo","ResourceTitle","ResourceDescription","content_","author","year","profDesc","yearDesc","printDescription","Row","size","icon","onClick","iframe","document","createElement","file","display","body","appendChild","window","open","hoverstyle","background","PopoverContent","profilePicture","PopoverHeading","time","timestamp","color","hash","trigger","I","CourseResourceGrid","items","Grid","styled","theme","textColor","borderRadius","textColorInactive","rgba","darksecondary","allowedTags","defaultYear","profDropValue","setProfDropValue","moduleDropValue","setModuleDropValue","yearDropValue","setYearDropValue","useParams","navigate","useNavigate","isMobileS","useResponsive","resPerFilter","setResPerFilter","resources","setResources","currentTab","setCurrentTab","filteredResources","setFilteredResources","setProfs","selectedProf","setSelectedProf","setModules","currentModule","setCurrentModule","allResCount","setAllResCount","profPerModule","setProfPerModule","years","setYears","yearPerProf","setYearPerProf","setCurrentYear","FrontendTag","includes","fetchResources","filterSet","moduleSet","numRes","moduleProfs","yearSet","profYears","resCount","resource","toString","Object","keys","yearString","frontendTag","sort","reverse","prof","reducedModuleSet","module","concat","reducedProfSet","modulesList","updateFilteredResources","tab","module_","key","filtered","hasValidTag","i","handleProfChange","handleModuleChange","handleYearChange","renderResources","resList","active","Header","fontSize","ButtonContainer","CourseContentRequest","type","marginRight","marginLeft","flexDirection","flexWrap","renderProfDropDown","yearsList","year_","renderYearDropDown","Container","tabheight","tabwidth","animated","secondary","formats","toolbar","container","handlers","loadTemplate","delta","this","quill","clipboard","convert","setContents","matchVisual","CustomToolbar","templateHandler","Toolbar","border","className","defaultValue","e","persist","QuillEditor","validate","handleChange","source","editor","getText","StyledReactQuill","Editor","onSubmit","initialValue","submitText","handleSubmit","errors","getFieldError","Error","resetFields","setFields","htmlType","ReviewEditor","editorProps","profile","avatar","ReactQuill","dividerColor","CourseReviewItem","updateContent","depth","dispatch","useDispatch","voteStatus","selectReviewVoteStatus","votersCount","voteCount","setVoteCount","action","setAction","userProfile","vote","updateReviewsVoted","handleUpdate","handleDelete","handleCreateChild","parent","children","actions","shape","LikeCount","CommentHeader","DOMPurify","CommentText","dangerouslySetInnerHTML","__html","datetime","child","primary","nestComments","commentsList","commentsMap","comment","undefined","recursiveApply","array","callback","item","reviewsData","setReviewsData","APILoading","setAPILoading","fetchReviews","handleUpdateContent","_reviewsData","review","createContent","Fragment","margin","courseTitle","StyledBreadcrumb","separator","StyledIcon","Icon","ChevronRight","to","Home","BookOpen","Breadcrumb","props","slot","semester","find","s","timetable","Title","opacity","Slots","SlotItems","lectureSlots","join","tutorialSlots","CourseSlotContainer","SlotContainer","CourseProfessors","latestSemester","selectCurrentSemester","season","professor","division","CourseProfessorsContainer","ProfessorList","SimilarCourses","courses","SimilarContainer","SimilarList","CourseLink","CPICutoff","cutoff","cutoffs","department","credits","workloadIgnore","favoritedByCount","location","reviewsIgnore","resourcesIgnore","useLocation","activeKey","setActiveKey","allRevCount","setAllRevCount","similarCourses","setSimilarCourses","fetchSimilarCourses","split","ParentContainer","MainContent","CoursePageBody","CourseInfo","FavoriteContainer","initialCount","FlexGap","Timetable","replace","device","Link","titleSlug","setCutoffs","getCourseData","reponseCutoff","isEmpty","kebabCase","pathname","coursePageUrl","disable","property"],"sourceRoot":""}